{"version":3,"file":"static/js/62.4928740c.chunk.js","mappings":"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","sources":["api/tmbApiService.js","utils/makeItShort.jsx","components/Reviews/Reviews.styled.jsx","components/Reviews/Reviews.jsx"],"sourcesContent":["import { toast } from 'react-toastify';\nconst KEY_API = '0b11624b950ea9c4284f61844023b09c';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrends = async (pageNum = 1) => {\n  try {\n    const response = await fetch(`${BASE_URL}trending/all/day?api_key=${KEY_API}&page=${pageNum}`);\n    const data = await response.json();\n    return data;\n\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport const fetchMovies = async (movieSearch, pageNum = 1) => {\n\n  try {\n    const response = await fetch(`${BASE_URL}search/movie?api_key=${KEY_API}&query=${movieSearch}&language=en-US&page=${pageNum}&include_adult=false`)\n    const data = await response.json();\n    \n    if(data.results.length === 0) {\n      toast.warn('Nothing was found on your request')\n    } \n    \n    return data;\n\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n  export const fetchMovieById = async (movie) => {\n\n    try {\n      const response = await fetch(`${BASE_URL}movie/${movie}?api_key=${KEY_API}&language=en-US`)\n      const data = await response.json();\n      return data;\n  \n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  export const fetchMovieReviews = async (movie) => {\n\n    try {\n      const response = await fetch(`${BASE_URL}movie/${movie}/reviews?api_key=${KEY_API}&language=en-US&page=1`)\n      const data = await response.json();\n      return data.results;\n  \n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  export const fetchMovieCast = async (movie) => {\n\n    try {\n      const response = await fetch(`${BASE_URL}movie/${movie}/credits?api_key=${KEY_API}&language=en-US&page=1`)\n      const data = await response.json();\n      return data.cast;\n  \n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  export const fetchGenres = async () => {\n\n    try {\n      const response = await fetch(`${BASE_URL}genre/movie/list?api_key=${KEY_API}&language=en-US`)\n      const data = await response.json();\n\n      const genresList = data.genres.reduce((acc, { id, name }) => {\n        acc[id] = name;\n        return acc;\n        }, {});\n\n        localStorage.setItem('genresList', JSON.stringify(genresList));\n  \n    } catch (error) {\n      console.log(error);\n    }\n  }\n","const shortReview = (str) => {\n    if (str.length > 270) {\n      let newStr = str.slice(0, 270);\n      return `${newStr}...`;\n    }\n    return str;\n  }\n\nexport default shortReview;","import styled from \"styled-components\";\n\nexport const ReviewsWrapper = styled.ul`\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 30px;\n    margin-top: 40px;\n    margin-bottom: 40px;\n`\n\nexport const ReviewCard = styled.li`\n    width: 380px;\n\n     @media screen and (min-width: 768px) {\n        justify-content: space-between;\n        width: 350px;\n     }\n`\n\nexport const InnerWrapper = styled.div`\n    display: flex;\n    align-items: center;\n`\n\nexport const Author = styled.p`\n    margin-left: 10px;\n`\n\nexport const Content = styled.p`\n    margin-top: 10px;\n\n`","import { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { RxAvatar } from 'react-icons/rx';\nimport { fetchMovieReviews } from '../../api/tmbApiService';\nimport shortReview from '../../utils/makeItShort';\nimport { ReviewsWrapper, ReviewCard, InnerWrapper, Author, Content } from './Reviews.styled';\n\n\nconst Reviews = ()=> {\n  const { movieId } = useParams();\n  const [ reviews, setReviews] = useState([]);\n\n  useEffect(()=>{\n    const foundMovieReviews = async (movId) => {\n        try {\n          const movieRvs = await fetchMovieReviews(movId);\n          setReviews(movieRvs);\n\n        } catch (error) {\n          console.log(error);\n        }\n    }\n\n    foundMovieReviews(movieId);\n  }, [movieId]);\n\n  \n  return (\n    \n    <ReviewsWrapper>\n    {reviews.length ? reviews.map(({id, author, content})=> {\n          return (\n              <ReviewCard key={id}>\n                  <InnerWrapper>\n                    <RxAvatar size={32} style={{color: '#B1A296'}}/>\n                    <Author>{author}</Author>\n                  </InnerWrapper>\n                 <Content>{shortReview(content)}</Content>\n              </ReviewCard>\n          )\n      }) : <div style={{display: 'flex'}}>\n        <img src='https://media0.giphy.com/media/QPQ3xlJhqR1BXl89RG/200.webp?cid=ecf05e47oeisg3o2v6zfwr5kukig5sa97vyumtbagi4uuum0&rid=200.webp&ct=g' alt='waiting for reviews'/>\n        <img src='https://media0.giphy.com/media/QPQ3xlJhqR1BXl89RG/200.webp?cid=ecf05e47oeisg3o2v6zfwr5kukig5sa97vyumtbagi4uuum0&rid=200.webp&ct=g' alt='waiting for reviews'/>\n        <img src='https://media0.giphy.com/media/QPQ3xlJhqR1BXl89RG/200.webp?cid=ecf05e47oeisg3o2v6zfwr5kukig5sa97vyumtbagi4uuum0&rid=200.webp&ct=g' alt='waiting for reviews'/>\n        <img src='https://media0.giphy.com/media/QPQ3xlJhqR1BXl89RG/200.webp?cid=ecf05e47oeisg3o2v6zfwr5kukig5sa97vyumtbagi4uuum0&rid=200.webp&ct=g' alt='waiting for reviews'/>\n        <img src='https://media0.giphy.com/media/QPQ3xlJhqR1BXl89RG/200.webp?cid=ecf05e47oeisg3o2v6zfwr5kukig5sa97vyumtbagi4uuum0&rid=200.webp&ct=g' alt='waiting for reviews'/>\n        </div>}\n    </ReviewsWrapper>\n  )\n\n}\n\nexport default Reviews;"],"names":["KEY_API","BASE_URL","fetchTrends","pageNum","fetch","response","json","data","console","log","fetchMovies","movieSearch","results","length","toast","fetchMovieById","movie","fetchMovieReviews","fetchMovieCast","cast","fetchGenres","genresList","genres","reduce","acc","id","name","localStorage","setItem","JSON","stringify","str","newStr","slice","ReviewsWrapper","styled","ReviewCard","InnerWrapper","Author","Content","movieId","useParams","useState","reviews","setReviews","useEffect","foundMovieReviews","movId","movieRvs","map","author","content","size","style","color","shortReview","display","src","alt"],"sourceRoot":""}